import{c as x,a as b,h as S,b as C,u as w,d as D,g as Q,_ as z,e as I,r as d,f,o as a,i as s,j as u,k as c,w as X,Q as g,l as k,F as y,m as $,n as j,p as F,q as T,t as q,s as N,v as V,x as G,y as R}from"./index.b8e52951.js";const L=x({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:o}){const r=b(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>S(e.tag,{class:r.value},C(o.default))}}),M=x({name:"QCard",props:{...w,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:o}){const{proxy:{$q:r}}=Q(),_=D(e,r),t=b(()=>"q-card"+(_.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>S(e.tag,{class:t.value},C(o.default))}});const O=e=>(V("data-v-777900dd"),e=e(),G(),e),P={class:"main bg-grey-5"},U={class:"main__btnGoBack"},A={key:0},H={key:0},J={class:"q-mb-lg"},K={key:1,class:"row justify-center q-my-md"},W={key:2,class:"text-center"},Y={key:3},Z=O(()=>u("h3",{class:"text-center text-warning"},"El correo que intenta ver no existe.",-1)),ee=[Z],ae={__name:"Email",setup(e){const o=I(),r=1e4,_=["Date","From","To","Subject","X-From","X-To","X-Origin","X-bcc","X-cc","Content"],t=d(null),m=d(!1),l=d(!1),v=d(f.currentRoute.value.params.id);v.value=decodeURIComponent(atob(v.value));const E=()=>{f.push("/")},h=async()=>{if(o.getEmail){F(()=>{t.value=o.getEmail});return}try{if(l.value)return;l.value=!0;const i={from:0,max_results:1,query:{bool:{filter:[{term:{_id:v.value}}]}},_source:[]},p=await T.post("/zinc/correos/search/es",i,{timeout:r}),n=p.data.hits;t.value=n.hits[0],p&&(m.value=!1)}catch(i){console.log(i),m.value=!0}finally{setTimeout(()=>{l.value=!1},100)}};return h(),(i,p)=>(a(),s("main",P,[u("div",U,[c(g,{rounded:"",color:"primary",size:"md",label:"Go Back",onClick:X(E,["stop","prevent"])},null,8,["onClick"])]),c(M,{class:"card_email"},{default:k(()=>[c(L,null,{default:k(()=>[t.value&&t.value._source?(a(),s("div",A,[(a(),s(y,null,$(_,(n,B)=>(a(),s(y,{key:`${n}-${B}`},[t.value._source[n]?(a(),s("div",H,[u("h3",null,q(n),1),u("p",J,q(t.value._source[n]),1)])):N("",!0)],64))),64))])):l.value?(a(),s("div",K,[c(j,{color:"primary",size:"40px"})])):m.value?(a(),s("div",W,[c(g,{onClick:h,color:"red","icon-right":"send",label:"Error al cargar el correo, intente nuevamente"})])):(a(),s("div",Y,ee))]),_:1})]),_:1})]))}},te=z(ae,[["__scopeId","data-v-777900dd"]]),oe={__name:"ShowEmail",setup(e){return(o,r)=>(a(),R(te))}};export{oe as default};
